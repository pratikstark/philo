{"version":3,"file":"static/js/843.3e9cf437.chunk.js","mappings":"gLAEO,MAAMA,EAAYC,eACVC,EAAAA,EAAMC,KAAK,OAAQC,GAGrBC,EAAgBJ,eACdC,EAAAA,EAAMI,IAAI,QAADC,OAASC,IAGpBC,EAAwBR,MAAOS,EAAeF,UAC5CN,EAAAA,EAAMC,KAAK,kBAAmB,CAAEO,gBAAeF,UAGjDG,EAAmBV,MAAOO,EAAOI,UAC/BV,EAAAA,EAAMW,IAAI,QAADN,OAASC,GAASI,E,8GCT1C,IAAIE,EAAc,IAAIC,IAClBC,EAAsB,IAAID,IAE9B,MAqKA,EArKmBE,KACjB,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,KAChCC,EAAYC,IAAiBF,EAAAA,EAAAA,WAAS,IACtCG,EAAcC,IAAmBJ,EAAAA,EAAAA,UAAS,CAAC,GAE5CK,EAAsBxB,gBACpBQ,EAAAA,EAAAA,IAAsBC,GACzBgB,MAAKC,IAA0B,IAAvBC,KAAMC,GAAWF,EACxBR,EAAWU,GACXL,EAAgB,CACdM,SAAS,EACTC,QAAS,mCACT,IAEHC,OAAOC,IACwB,MAA1BA,EAAMC,SAASC,SACjBX,EAAgB,CACdM,SAAS,EACTC,QAAS,sCAEXZ,EAAW,IACb,GACA,EAeAiB,EAAkB,IAAIC,KAAKC,aAAa,UAE9CC,EAAAA,EAAAA,YAAU,KACRd,EAAoB,GAAG,GACtB,IA4EH,OACEe,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAW,0BAA0BF,UACxCC,EAAAA,EAAAA,KAAA,OAAKC,UAAW,eAAeF,UAC7BC,EAAAA,EAAAA,KAAA,MAAIC,UAAW,oBAAoBF,SAAC,cAIxCF,EAAAA,EAAAA,MAAA,OAAK,UAAS,GAAII,UAAW,wBAAwBF,SAAA,EACnDC,EAAAA,EAAAA,KAAA,OAAKC,UAAW,iBAAiBF,UAC/BF,EAAAA,EAAAA,MAAA,OAAKI,UAAW,0BAA0BF,SAAA,EACxCF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,uBAEFC,EAAAA,EAAAA,KAAA,QACE,UAAS,qBACTC,UAAW,gBACXC,QAAUC,GAAMxB,GAAeD,GAC/B0B,MAAO1B,EAAa,CAAE2B,UAAW,kBAAqB,CAAC,OAG1D3B,GA7FF,IAAIP,GAAamC,KAAI,CAACC,EAAUC,KAEnCR,EAAAA,EAAAA,KAAA,OAAAD,UACEF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SACEC,UAAW,cACXQ,KAAM,WACNC,MAAOH,EACPI,SAAWR,GA3BSA,KAC9B,IAAI,MAAEO,EAAK,QAAEE,GAAYT,EAAEU,OACvBD,GACFvC,EAAoByC,IAAIJ,GACxBK,QAAQC,IAAI3C,GACZS,EAAoB,IAAIT,KACfA,EAAoB4C,IAAIP,KACjCrC,EAAoB6C,OAAOR,GAC3B5B,EAAoB,IAAIT,IAC1B,EAkB2B8C,CAAuBhB,KACxC,IAAAvC,OACG2C,OARCC,WA8FVR,EAAAA,EAAAA,KAAA,OAAKC,UAAW,uCAAuCF,SAEV,IAArCqB,OAAOC,KAAKzC,GAAc0C,QACrBtB,EAAAA,EAAAA,KAAA,QAAM,aAAY,eACfpB,EAAaO,SAMrBa,EAAAA,EAAAA,KAAA,OACEC,UAAW,mDACX,UAAS,GAAGF,SA1FH,IAAnBxB,EAAQ+C,QACHtB,EAAAA,EAAAA,KAAA,QAAM,aAAY,eAEpBzB,EAAQ+B,KAAKiB,IAAS,IAADC,EAE1B,OADArD,EAAY2C,IAAIS,EAAIhB,WAElBP,EAAAA,EAAAA,KAAA,OAAAD,UACEF,EAAAA,EAAAA,MAAA,OAAKI,UAAW,wCAAwCF,SAAA,CACrDwB,EAAIE,UAAY,IACfzB,EAAAA,EAAAA,KAAA,OAAKC,UAAW,+BAA+BF,SAAC,kBAElDC,EAAAA,EAAAA,KAAA,OAAKC,UAAW,oBAAoBF,UAClCC,EAAAA,EAAAA,KAAA,OACEC,UAAW,aACXyB,IAAG,IAAA9D,OAAM2D,EAAII,aACbC,IAAG,QAAAhE,OAAU2D,EAAIM,MACjBC,MAAK,QAAAlE,OAAU2D,EAAIM,WAGvBhC,EAAAA,EAAAA,MAAA,OAAKI,UAAW,yBAAyBF,SAAA,EACvCC,EAAAA,EAAAA,KAAA,MAAIC,UAAW,qBAAqBF,SAAEwB,EAAIM,QAC1ChC,EAAAA,EAAAA,MAAA,MAAII,UAAW,qBAAqBF,SAAA,CAAC,aAAWwB,EAAIhB,aACpDP,EAAAA,EAAAA,KAAA,OAAKC,UAAW,eAAeF,UAC7BC,EAAAA,EAAAA,KAAC+B,EAAAA,EAAW,CACVC,OAAQC,OAAOV,EAAIE,WACnBS,cAAe,YAGnBlC,EAAAA,EAAAA,KAAA,OAAAD,UACEF,EAAAA,EAAAA,MAAA,SAAOI,UAAW,aAAaF,SAAA,CACf,QADeyB,EAC5BD,EAAIE,iBAAS,IAAAD,OAAA,EAAbA,EAAeW,QAAQ,GAAG,KAC1B1C,EAAgB2C,OAAOb,EAAIc,aAAa,WACnB,IAApBd,EAAIc,aAAqBd,EAAIc,YAAc,IAAM,IAAI,UAG3DrC,EAAAA,EAAAA,KAAA,KAAGC,UAAW,YAAYF,SAAEwB,EAAIe,SAChCtC,EAAAA,EAAAA,KAAA,OAAKC,UAAW,aAAaF,UAC3BC,EAAAA,EAAAA,KAACuC,EAAAA,GAAI,CACHC,GAAI,CACFC,SAAS,QAAD7E,OAAU2D,EAAI1D,OACtB6E,MAAO,CACLC,QAASpB,IAEXxB,UAEFC,EAAAA,EAAAA,KAAA,UAAQC,UAAW,iBAAiBF,SAAC,qBAvCrCwB,EAAIqB,MA4CR,OAkCE5C,EAAAA,EAAAA,KAAA,KAAGC,UAAW,oBAAoBF,SAAEnB,EAAaQ,iBAe1D,C","sources":["apis/NGO.js","components/AllNGOPage.js"],"sourcesContent":["import Axios from \"axios\";\r\n\r\nexport const AddNGOAPI = async (ngo) => {\r\n  return await Axios.post(\"/ngo\", ngo);\r\n};\r\n\r\nexport const GetNGOByIdAPI = async (ngoId) => {\r\n  return await Axios.get(`/ngo/${ngoId}`);\r\n};\r\n\r\nexport const GetNGOsByAvgReviewAPI = async (locationArray, ngoId) => {\r\n  return await Axios.post(\"/ngo/get/review\", { locationArray, ngoId });\r\n};\r\n\r\nexport const UpdateNGOByIdAPI = async (ngoId, ngoAfterUpdate) => {\r\n  return await Axios.put(`/ngo/${ngoId}`, ngoAfterUpdate);\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport StarRatings from \"react-star-ratings\";\r\nimport \"../css/AllPage.css\";\r\nimport { GetNGOsByAvgReviewAPI } from \"../apis/NGO\";\r\n\r\nlet locationSet = new Set();\r\nlet locationToSearchSet = new Set();\r\n\r\nconst AllNGOPage = () => {\r\n  const [NGOList, setNGOList] = useState([]);\r\n  const [showFilter, setShowFilter] = useState(true);\r\n  const [fetchMessage, setFetchMessage] = useState({});\r\n\r\n  const fetchNGOsByLocation = async (locationArray) => {\r\n    await GetNGOsByAvgReviewAPI(locationArray)\r\n      .then(({ data: foundNGOs }) => {\r\n        setNGOList(foundNGOs);\r\n        setFetchMessage({\r\n          success: true,\r\n          message: \"NGOs were successfully fetched.\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        if (error.response.status === 404) {\r\n          setFetchMessage({\r\n            success: false,\r\n            message: \"404! No NGOs have registered yet.\",\r\n          });\r\n          setNGOList([]);\r\n        }\r\n      });\r\n  };\r\n\r\n  const setLocationToSearchSet = (e) => {\r\n    let { value, checked } = e.target;\r\n    if (checked) {\r\n      locationToSearchSet.add(value);\r\n      console.log(locationToSearchSet);\r\n      fetchNGOsByLocation([...locationToSearchSet]);\r\n    } else if (locationToSearchSet.has(value)) {\r\n      locationToSearchSet.delete(value);\r\n      fetchNGOsByLocation([...locationToSearchSet]);\r\n    }\r\n  };\r\n\r\n  const numberFormatter = new Intl.NumberFormat(\"en-IN\");\r\n\r\n  useEffect(() => {\r\n    fetchNGOsByLocation([]);\r\n  }, []);\r\n\r\n  const renderLocationCheckboxes = () => {\r\n    return [...locationSet].map((location, index) => {\r\n      return (\r\n        <div key={index}>\r\n          <label>\r\n            <input\r\n              className={\"uk-checkbox\"}\r\n              type={\"checkbox\"}\r\n              value={location}\r\n              onChange={(e) => setLocationToSearchSet(e)}\r\n            />\r\n            {` ${location}`}\r\n          </label>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderNGOCards = () => {\r\n    if (NGOList.length === 0) {\r\n      return <span uk-spinner={\"ratio: 4.5\"} />;\r\n    }\r\n    return NGOList.map((NGO) => {\r\n      locationSet.add(NGO.location);\r\n      return (\r\n        <div key={NGO.NGOId}>\r\n          <div className={\"uk-card uk-card-default uk-card-hover\"}>\r\n            {NGO.reviewAvg > 4 && (\r\n              <div className={\"uk-card-badge uk-label label\"}>Highly Rated</div>\r\n            )}\r\n            <div className={\"uk-card-media-top\"}>\r\n              <img\r\n                className={\"card-image\"}\r\n                src={`/${NGO.picturePath}`}\r\n                alt={`NGO: ${NGO.name}`}\r\n                title={`NGO: ${NGO.name}`}\r\n              />\r\n            </div>\r\n            <div className={\"uk-card-body card-body\"}>\r\n              <h3 className={\"uk-card-title name\"}>{NGO.name}</h3>\r\n              <h6 className={\"miscellaneous-info\"}>Location: {NGO.location}</h6>\r\n              <div className={\"star-section\"}>\r\n                <StarRatings\r\n                  rating={Number(NGO.reviewAvg)}\r\n                  starDimension={\"20px\"}\r\n                />\r\n              </div>\r\n              <div>\r\n                <small className={\"review-box\"}>\r\n                  {NGO.reviewAvg?.toFixed(3)} (\r\n                  {numberFormatter.format(NGO.reviewCount)} review\r\n                  {(NGO.reviewCount === 0 || NGO.reviewCount > 1) && \"s\"})\r\n                </small>\r\n              </div>\r\n              <p className={\"about-box\"}>{NGO.about}</p>\r\n              <div className={\"button-box\"}>\r\n                <Link\r\n                  to={{\r\n                    pathname: `/ngo/${NGO.ngoId}`,\r\n                    state: {\r\n                      tempNGO: NGO,\r\n                    },\r\n                  }}\r\n                >\r\n                  <button className={\"section-button\"}>Visit</button>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={\"uk-section hero-section\"}>\r\n        <div className={\"uk-container\"}>\r\n          <h1 className={\"hero-heading-text\"}>NGOs</h1>\r\n        </div>\r\n      </div>\r\n\r\n      <div uk-grid={\"\"} className={\"section all-page-grid\"}>\r\n        <div className={\"uk-width-1-4@l\"}>\r\n          <div className={\"location-filter-section\"}>\r\n            <h6>\r\n              Filter by location:\r\n              <span\r\n                uk-icon={\"icon: chevron-down\"}\r\n                className={\"collapse-icon\"}\r\n                onClick={(e) => setShowFilter(!showFilter)}\r\n                style={showFilter ? { transform: \"rotate(180deg)\" } : {}}\r\n              />\r\n            </h6>\r\n            {showFilter && renderLocationCheckboxes()}\r\n          </div>\r\n        </div>\r\n        <div className={\"uk-width-3-4@l all-page-card-section\"}>\r\n          {(() => {\r\n            if (Object.keys(fetchMessage).length === 0) {\r\n              return <span uk-spinner={\"ratio: 4.5\"} />;\r\n            } else if (!fetchMessage.success) {\r\n              return (\r\n                <p className={\"not-found-message\"}>{fetchMessage.message}</p>\r\n              );\r\n            } else {\r\n              return (\r\n                <div\r\n                  className={\"uk-child-width-1-3@l uk-grid-match all-page-grid\"}\r\n                  uk-grid={\"\"}\r\n                >\r\n                  {renderNGOCards()}\r\n                </div>\r\n              );\r\n            }\r\n          })()}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllNGOPage;\r\n"],"names":["AddNGOAPI","async","Axios","post","ngo","GetNGOByIdAPI","get","concat","ngoId","GetNGOsByAvgReviewAPI","locationArray","UpdateNGOByIdAPI","ngoAfterUpdate","put","locationSet","Set","locationToSearchSet","AllNGOPage","NGOList","setNGOList","useState","showFilter","setShowFilter","fetchMessage","setFetchMessage","fetchNGOsByLocation","then","_ref","data","foundNGOs","success","message","catch","error","response","status","numberFormatter","Intl","NumberFormat","useEffect","_jsxs","_Fragment","children","_jsx","className","onClick","e","style","transform","map","location","index","type","value","onChange","checked","target","add","console","log","has","delete","setLocationToSearchSet","Object","keys","length","NGO","_NGO$reviewAvg","reviewAvg","src","picturePath","alt","name","title","StarRatings","rating","Number","starDimension","toFixed","format","reviewCount","about","Link","to","pathname","state","tempNGO","NGOId"],"sourceRoot":""}