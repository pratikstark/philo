{"version":3,"file":"static/js/235.74d15d81.chunk.js","mappings":"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","sources":["apis/Caretaker.js","components/AllCaretakerPage.js"],"sourcesContent":["import Axios from \"axios\";\r\n\r\nexport const AddCaretakerAPI = async (caretaker) => {\r\n  return await Axios.post(\"/caretaker\", caretaker);\r\n};\r\n\r\nexport const GetCaretakerByIdAPI = async (caretakerId) => {\r\n  return await Axios.get(`/caretaker/${caretakerId}`);\r\n};\r\n\r\nexport const GetCaretakersByAvgReview = async (locationArray) => {\r\n  return await Axios.post(\"/caretaker/get/review\", { locationArray });\r\n};\r\n\r\nexport const UpdateCaretakerByIdAPI = async (\r\n  caretakerId,\r\n  caretakerAfterUpdate\r\n) => {\r\n  return await Axios.put(`/caretaker/${caretakerId}`, caretakerAfterUpdate);\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport StarRatings from \"react-star-ratings\";\r\nimport \"../css/AllPage.css\";\r\nimport { GetCaretakersByAvgReview } from \"../apis/Caretaker\";\r\n\r\nlet locationSet = new Set();\r\nlet locationToSearchSet = new Set();\r\n\r\nconst AllCaretakerPage = () => {\r\n  const [caretakerList, setCaretakerList] = useState([]);\r\n  const [showFilter, setShowFilter] = useState(true);\r\n  const [fetchMessage, setFetchMessage] = useState({});\r\n\r\n  const fetchCaretakersByLocation = async (locationArray) => {\r\n    await GetCaretakersByAvgReview(locationArray)\r\n      .then(({ data: foundCaretakers }) => {\r\n        setCaretakerList(foundCaretakers);\r\n        setFetchMessage({\r\n          success: true,\r\n          message: \"Doctors were successfully fetched.\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        if (error.response.status === 404) {\r\n          setFetchMessage({\r\n            success: false,\r\n            message: \"404! No caretakers have registered yet.\",\r\n          });\r\n          setCaretakerList([]);\r\n        }\r\n      });\r\n  };\r\n\r\n  const setLocationToSearchSet = (e) => {\r\n    let { value, checked } = e.target;\r\n    if (checked) {\r\n      locationToSearchSet.add(value);\r\n      console.log(locationToSearchSet);\r\n      fetchCaretakersByLocation([...locationToSearchSet]);\r\n    } else if (locationToSearchSet.has(value)) {\r\n      locationToSearchSet.delete(value);\r\n      fetchCaretakersByLocation([...locationToSearchSet]);\r\n    }\r\n  };\r\n\r\n  const numberFormatter = new Intl.NumberFormat(\"en-IN\");\r\n\r\n  const currencyFormatter = new Intl.NumberFormat(\"en-IN\", {\r\n    style: \"currency\",\r\n    currency: \"INR\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchCaretakersByLocation([]);\r\n  }, []);\r\n\r\n  const renderLocationCheckboxes = () => {\r\n    return [...locationSet].map((location) => {\r\n      return (\r\n        <div>\r\n          <label>\r\n            <input\r\n              className={\"uk-checkbox\"}\r\n              type={\"checkbox\"}\r\n              value={location}\r\n              onChange={(e) => setLocationToSearchSet(e)}\r\n            />\r\n            {` ${location}`}\r\n          </label>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderCaretakerCards = () => {\r\n    if (caretakerList.length === 0) {\r\n      return <span uk-spinner={\"ratio: 4.5\"} />;\r\n    }\r\n    return caretakerList.map((caretaker) => {\r\n      locationSet.add(caretaker.location);\r\n      return (\r\n        <div key={caretaker.caretakerId}>\r\n          <div className={\"uk-card uk-card-default uk-card-hover\"}>\r\n            {caretaker.reviewAvg > 4 && (\r\n              <div className={\"uk-card-badge uk-label label\"}>Highly Rated</div>\r\n            )}\r\n            <div className={\"uk-card-media-top\"}>\r\n              <img\r\n                className={\"card-image\"}\r\n                src={`/${caretaker.picturePath}`}\r\n                alt={`Caretaker: ${caretaker.firstName} ${caretaker.lastName}`}\r\n                title={`Caretaker: ${caretaker.firstName} ${caretaker.lastName}`}\r\n              />\r\n            </div>\r\n            <div className={\"uk-card-body card-body\"}>\r\n              <h3 className={\"uk-card-title name\"}>\r\n                Dr. {caretaker.firstName} {caretaker.lastName}\r\n              </h3>\r\n              <h4 className={\"charge-box\"}>\r\n                {currencyFormatter.format(caretaker.charge)}/\r\n                {caretaker.chargeDuration}\r\n              </h4>\r\n              <h6 className={\"miscellaneous-info\"}>\r\n                Location: {caretaker.location}\r\n              </h6>\r\n              <div className={\"star-section\"}>\r\n                <StarRatings\r\n                  rating={Number(caretaker.reviewAvg)}\r\n                  starDimension={\"20px\"}\r\n                />\r\n              </div>\r\n              <div>\r\n                <small className={\"review-box\"}>\r\n                  {caretaker.reviewAvg?.toFixed(3)} (\r\n                  {numberFormatter.format(caretaker.reviewCount)} review\r\n                  {(caretaker.reviewCount === 0 || caretaker.reviewCount > 1) &&\r\n                    \"s\"}\r\n                  )\r\n                </small>\r\n              </div>\r\n              <p className={\"about-box\"}>{caretaker.about}</p>\r\n              <div className={\"button-box\"}>\r\n                <Link\r\n                  to={{\r\n                    pathname: `/caretaker/${caretaker.caretakerId}`,\r\n                    state: {\r\n                      tempCaretaker: caretaker,\r\n                    },\r\n                  }}\r\n                >\r\n                  <button className={\"section-button\"}>Visit</button>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={\"uk-section hero-section\"}>\r\n        <div className={\"uk-container\"}>\r\n          <h1 className={\"hero-heading-text\"}>Caretakers</h1>\r\n        </div>\r\n      </div>\r\n\r\n      <div uk-grid={\"\"} className={\"section all-page-grid\"}>\r\n        <div className={\"uk-width-1-4@l\"}>\r\n          <div className={\"location-filter-section\"}>\r\n            <h6>\r\n              Filter by location:\r\n              <span\r\n                uk-icon={\"icon: chevron-down\"}\r\n                className={\"collapse-icon\"}\r\n                onClick={(e) => setShowFilter(!showFilter)}\r\n                style={showFilter ? { transform: \"rotate(180deg)\" } : {}}\r\n              />\r\n            </h6>\r\n            {showFilter && renderLocationCheckboxes()}\r\n          </div>\r\n        </div>\r\n        <div className={\"uk-width-3-4@l all-page-card-section\"}>\r\n          {(() => {\r\n            if (Object.keys(fetchMessage).length === 0) {\r\n              return <span uk-spinner={\"ratio: 4.5\"} />;\r\n            } else if (!fetchMessage.success) {\r\n              return (\r\n                <p className={\"not-found-message\"}>{fetchMessage.message}</p>\r\n              );\r\n            } else {\r\n              return (\r\n                <div\r\n                  className={\"uk-child-width-1-3@l uk-grid-match all-page-grid\"}\r\n                  uk-grid={\"\"}\r\n                >\r\n                  {renderCaretakerCards()}\r\n                </div>\r\n              );\r\n            }\r\n          })()}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllCaretakerPage;\r\n"],"names":["AddCaretakerAPI","async","Axios","post","caretaker","GetCaretakerByIdAPI","get","concat","caretakerId","GetCaretakersByAvgReview","locationArray","UpdateCaretakerByIdAPI","caretakerAfterUpdate","put","locationSet","Set","locationToSearchSet","AllCaretakerPage","caretakerList","setCaretakerList","useState","showFilter","setShowFilter","fetchMessage","setFetchMessage","fetchCaretakersByLocation","then","_ref","data","foundCaretakers","success","message","catch","error","response","status","numberFormatter","Intl","NumberFormat","currencyFormatter","style","currency","useEffect","_jsxs","_Fragment","children","_jsx","className","onClick","e","transform","map","location","type","value","onChange","checked","target","add","console","log","has","delete","setLocationToSearchSet","Object","keys","length","_caretaker$reviewAvg","reviewAvg","src","picturePath","alt","firstName","lastName","title","format","charge","chargeDuration","StarRatings","rating","Number","starDimension","toFixed","reviewCount","about","Link","to","pathname","state","tempCaretaker"],"sourceRoot":""}